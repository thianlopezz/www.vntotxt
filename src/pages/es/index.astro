---
import { Image } from "astro:assets";
import ImageBro1 from "../../../public/voice-note-bro.svg";
import ImageBro2 from "../../../public/text-bro.svg";
import VoiceChatPana from "../../../public/voice-chat-pana.svg";
import SaveContactBro from "../../../public/save-contact-bro.svg";
import ForwardMessageBro from "../../../public/forward-message-bro.svg";
import TranscribedAudioBro from "../../../public/transcribed-audio-bro.svg";
import Card from "../../components/Card.astro";
import DescriptionDisplay from "../../components/DescriptionDisplay.astro";
import NavigationLayout from "../../layouts/NavigationLayout.astro";
import { getLangFromUrl, useTranslations } from "../../i18n/utils";
import SubscriptionCardList from "../../components/SubscriptionCardList.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<NavigationLayout language="en" title="WhatsApp Voice Notes To Text">
  <main class="md:flex md:h-screen mx-auto bg-secondary lg:px-36">
    <div class="w-full md:w-1/2 p-10 flex flex-col justify-center">
      <h1
        class="text-5xl sm:text-6xl mb-4 text-center md:text-left font-ubuntu font-bold"
      >
        {t("home.mainTitle.1")}
        <br />
        <span class="text-primary md:text-7xl">{t("home.mainTitle.2")}</span>
        <br />
        {t("home.mainTitle.3")} üîà
      </h1>
      <p class="my-5 text-center md:text-justify text-xl text-gray-800">
        {t("home.mainDescription")}
      </p>
      <div class="flex pt-3 md:pt-0">
        <a
          class="btn btn-primary btn-wide m-auto md:m-0"
          href="https://api.whatsapp.com/send?phone=593967960981"
          target="_blank"
          >{t("home.mainCallToAction")} <span class="text-xl">üòé</span></a
        >
      </div>
    </div>
    <!-- feature-image-container -->
    <div class="md:flex md:w-1/2 flex-col justify-center py-10">
      <!-- class="feature-image-transition" -->
      <!-- <Image
          
          src={ImageBro1}
          alt="Voice note to text"
        /> -->
      <!-- class="feature-image-transition" -->
      <Image src={ImageBro2} alt="Voice note to text 2" />
    </div>
  </main>
  <section
    id="how-it-works"
    class="container flex-col content-center mx-auto py-10 md:h-screen"
  >
    <h2 class="text-4xl text-center md:mb-5 md:mt-10 font-ubuntu font-bold">
      {t("home.howItWorks.title")}
    </h2>
    <div class="px-5 md:px-10">
      <!-- bg-primary -->
      <div class="bg-neautral py-10 rounded-lg">
        <p class="text-center mb-10">
          <span class="badge badge-primary badge-outline badge-lg">
            {t("home.howItWorks.subtitle")}</span
          >
        </p>
        <div
          class="flex flex-col md:flex-row justify-center justify-items-center"
        >
          <div
            class="w-full md:w-1/3 flex flex-col items-center mb-6 md:mb-0 px-3"
          >
            <Card
              image={SaveContactBro}
              altImage={t("home.howItWorks.step-1.altImage")}
              number="1"
              title={t("home.howItWorks.step-1.title")}
              body={t("home.howItWorks.step-1.body")}
            >
              <a
                class="link link-primary"
                href="https://api.whatsapp.com/send?phone=593967960981"
                target="_blank">+593 96 796 0981</a
              ></Card
            >
          </div>
          <div
            class="w-full md:w-1/3 flex flex-col items-center mb-6 md:mb-0 px-3"
          >
            <Card
              image={ForwardMessageBro}
              altImage={t("home.howItWorks.step-2.altImage")}
              number="2"
              title={t("home.howItWorks.step-2.title")}
              body={t("home.howItWorks.step-2.body")}
            />
          </div>
          <div
            class="w-full md:w-1/3 flex flex-col items-center mb-6 md:mb-0 px-3"
          >
            <Card
              image={TranscribedAudioBro}
              altImage={t("home.howItWorks.step-3.altImage")}
              number="3"
              title={t("home.howItWorks.step-3.title")}
              body={t("home.howItWorks.step-3.body")}
            />
          </div>
        </div>
      </div>
    </div>
  </section>
  <section
    id="features"
    class="md:h-screen bg-secondary flex flex-col justify-center items-center"
  >
    <h2
      class="text-4xl text-center md:text-center font-ubuntu font-bold pt-10 md:pt-0 px-5"
    >
      {t("home.features.title.1")}
      <span class="text-primary text-4xl">{t("home.features.title.2")}</span>
      <br />
      {t("home.features.title.3")} üìù
    </h2>
    <div class="flex flex-col-reverse md:flex-row">
      <div class="flex flex-col justify-center py-10 w-full md:w-5/12">
        <Image src={VoiceChatPana} alt="Voice note to text" />
      </div>
      <div class="w-full md:w-7/12 p-10 flex flex-col justify-center">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-10 py-5">
          <DescriptionDisplay
            boxicon="bx bx-world"
            title={t("home.features.item.1.title")}
            descripton={t("home.features.item.1.description")}
          />
          <DescriptionDisplay
            boxicon="bx bxs-face"
            title={t("home.features.item.2.title")}
            descripton={t("home.features.item.2.description")}
          />
          <DescriptionDisplay
            boxicon="bx bx-search-alt"
            title={t("home.features.item.3.title")}
            descripton={t("home.features.item.3.description")}
          />
          <DescriptionDisplay
            boxicon="bx bxs-user-voice"
            title={t("home.features.item.3.title")}
            descripton={t("home.features.item.3.description")}
          />
        </div>
      </div>
    </div>
    <div class="flex py-3 md:py-5 w-full">
      <a
        class="btn btn-primary m-auto"
        href="https://api.whatsapp.com/send?phone=593967960981"
        >{t("home.features.callToAction")} <span class="text-xl">üòé</span></a
      >
    </div>
  </section>
  <section
    id="pricing"
    class="container flex-col content-center mx-auto pt-10 md:py-0"
  >
    <h2 class="text-4xl text-center md:mb-5 md:mt-10 font-ubuntu font-bold">
      {t("home.pricing.title")}
    </h2>
    <div class="px-5 md:px-10">
      <!-- bg-primary -->
      <div class="bg-neautral py-10 rounded-lg">
        <p class="text-center mb-10">
          <span class="badge badge-primary badge-outline badge-lg"
            >{t("home.pricing.subtitle")}</span
          >
        </p>
        <SubscriptionCardList />
      </div>
    </div>
  </section>
</NavigationLayout>

<style>
  .feature-image-container {
    position: relative;
  }

  .feature-image-transition {
    position: absolute;
    width: 100%;
    height: auto;
    animation: imageFade 7s infinite;
  }

  .feature-image-transition:nth-child(2) {
    animation-delay: 3.5s;
  }

  @keyframes imageFade {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0;
    }
  }
</style>

<script is:inline>
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault();

      document.querySelector(this.getAttribute("href")).scrollIntoView({
        behavior: "smooth",
      });
    });
  });
</script>

<script is:inline>
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault();

      document.querySelector(this.getAttribute("href")).scrollIntoView({
        behavior: "smooth",
      });
    });
  });
</script>
